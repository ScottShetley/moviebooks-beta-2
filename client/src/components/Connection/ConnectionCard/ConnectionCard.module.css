/* client/src/components/Connection/ConnectionCard/ConnectionCard.module.css */

.card {
    /* --- FIX: Use variables defined in tokens.css --- */
    background-color: var(--color-card);
    /* Use --color-card (White) */
    border-radius: var(--border-radius-md);
    /* Use --border-radius-md (Renamed in tokens? Check if -l exists) */
    padding: var(--space-md);
    /* Use --space-md */
    margin-bottom: var(--space-lg);
    /* Use --space-lg */
    box-shadow: var(--shadow-md);
    /* Use --shadow-md */
    overflow: hidden;
    border: var(--border-width) solid var(--color-border);
    /* Use --border-width & --color-border */
    /* --- END FIX --- */
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.header {
    margin-bottom: var(--space-xs);
    /* Use --space-xs */
}

.header h3 {
    margin: 0 0 var(--space-xs) 0;
    /* Use --space-xs */
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold, 700);
    /* Add fallback weight */
    color: var(--color-text);
    /* Use --color-text or --color-secondary if preferred */
}

.header h3 a {
    color: inherit;
    text-decoration: none;
}

.header h3 a:hover {
    color: var(--color-primary);
    text-decoration: underline;
}

.meta {
    font-size: var(--font-size-sm);
    color: var(--color-text-light);
    margin-bottom: var(--space-md);
    /* Use --space-md */
}

.meta a {
    color: var(--color-primary);
    /* Use --color-primary (or custom link color if defined) */
    font-weight: var(--font-weight-medium, 600);
    /* Add fallback weight */
    text-decoration: none;
}

.meta a:hover {
    text-decoration: underline;
}

.screenshot {
    display: block;
    width: 100%;
    height: auto;
    border-radius: var(--border-radius-md);
    /* Use --border-radius-md */
    margin-bottom: var(--space-md);
    /* Use --space-md */
    object-fit: cover;
    background-color: var(--color-background);
    /* Use --color-background as placeholder bg */
}

.noScreenshotPlaceholder {
    width: 100%;
    height: 150px;
    background-color: var(--color-background);
    /* Use --color-background */
    border-radius: var(--border-radius-md);
    /* Use --border-radius-md */
    margin-bottom: var(--space-md);
    /* Use --space-md */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-light);
    font-style: italic;
    font-size: var(--font-size-sm);
}

.context {
    font-size: var(--font-size-md);
    color: var(--color-text);
    line-height: var(--line-height-body);
    margin-bottom: var(--space-md);
    /* Use --space-md */
    white-space: pre-wrap;
}

.additionalImagesContainer {
    display: flex;
    gap: var(--space-sm);
    /* --- FIX: Use --space-sm --- */
    margin-bottom: var(--space-md);
    /* Use --space-md */
}

.additionalImage {
    width: 80px;
    /* Keep this size for now, can adjust */
    height: auto;
    max-height: 120px;
    object-fit: cover;
    border-radius: var(--border-radius-sm);
    /* Use --border-radius-sm */
    border: var(--border-width) solid var(--color-border);
    /* Use --border-width & --color-border */
}

.actions {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-sm);
    /* --- FIX: Use --space-sm --- */
    border-top: var(--border-width) solid var(--color-border);
    /* Use --border-width & --color-border */
    padding-top: var(--space-md);
    /* Use --space-md */
}

.actionButton {
    background-color: transparent;
    border: var(--border-width) solid var(--color-border);
    /* Use --border-width & --color-border */
    color: var(--color-text-light);
    padding: var(--space-xs) var(--space-sm);
    /* Use --space-xs/sm */
    border-radius: var(--border-radius-md);
    /* Use --border-radius-md */
    cursor: pointer;
    transition: var(--transition-fast);
    font-size: var(--font-size-m);
    /* Check if -m is defined, fallback to -md */
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    /* Use --space-xs */
    line-height: 1;
}

.actionButton:hover:not(:disabled) {
    background-color: var(--color-background);
    /* Use --color-background for subtle hover */
    border-color: var(--color-text-light);
    /* Darken border slightly */
    color: var(--color-text);
}

.actionButton:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.count {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium, 600);
    /* Add fallback */
}

/* --- FIX: Use variables defined in tokens.css --- */
.liked {
    color: var(--color-accent);
    /* Use --color-accent */
    border-color: var(--color-accent);
    /* Use --color-accent directly or create subtle version */
}

.liked:hover:not(:disabled) {
    background-color: rgba(var(--color-accent-rgb, 227, 178, 60), 0.1);
    /* Example subtle bg using RGB */
    border-color: var(--color-accent);
}

.favorited {
    color: var(--color-primary);
    /* Use --color-primary for favorites */
    border-color: var(--color-primary);
    /* Use --color-primary directly or create subtle version */
}

.favorited:hover:not(:disabled) {
    background-color: rgba(var(--color-primary-rgb), 0.1);
    /* Example subtle bg using RGB */
    border-color: var(--color-primary);
}

.deleteButton {
    margin-left: auto;
    color: var(--color-error);
    /* Use --color-error */
    border-color: var(--color-error);
    /* Use --color-error */
}

.deleteButton:hover:not(:disabled) {
    background-color: rgba(var(--color-error-rgb), 0.1);
    /* Example subtle bg using RGB */
    border-color: var(--color-error);
    color: var(--color-error);
    /* Keep color */
}

.actionError {
    color: var(--color-error);
    font-size: var(--font-size-xs);
    margin-left: var(--space-sm);
    /* Use --space-sm */
}

/* --- END FIX --- */


/* --- Comment Section Styles (Use corrected variables) --- */
.commentsSection {
    margin-top: var(--space-md);
    padding-top: var(--space-md);
    border-top: var(--border-width) solid var(--color-border);
    margin-left: calc(-1 * var(--space-md));
    /* Match card padding */
    margin-right: calc(-1 * var(--space-md));
    padding-left: var(--space-md);
    padding-right: var(--space-md);
}

.commentLoading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-lg) 0;
    color: var(--color-text-light);
    gap: var(--space-sm);
    font-size: var(--font-size-sm);
}

.commentError {
    padding: var(--space-md);
    color: var(--color-error);
    background-color: rgba(var(--color-error-rgb), 0.1);
    /* Subtle error bg */
    border: var(--border-width) solid var(--color-error);
    border-radius: var(--border-radius-md);
    text-align: center;
    font-size: var(--font-size-sm);
    margin-top: var(--space-sm);
}

.noCommentsYet {
    font-size: var(--font-size-sm);
    color: var(--color-text-light);
    font-style: italic;
    text-align: center;
    padding: var(--space-md) 0;
    margin-top: var(--space-sm);
}

/* --- END Comment Section Styles --- */


/* --- Basic Responsive (Use corrected variables) --- */
@media (max-width: var(--breakpoint-md)) {

    /* Use --breakpoint-md */
    .card {
        padding: var(--space-sm);
        /* Use --space-sm */
        border-radius: var(--border-radius-md);
    }

    .header h3 {
        font-size: var(--font-size-lg);
        /* Use -lg or adjust */
    }

    .meta {
        font-size: var(--font-size-xs);
    }

    .context {
        font-size: var(--font-size-sm);
    }

    .additionalImage {
        width: 60px;
        max-height: 90px;
    }

    .actions {
        gap: var(--space-xs);
        /* Use --space-xs */
        padding-top: var(--space-sm);
        /* Use --space-sm */
    }

    .actionButton {
        padding: var(--space-xs) var(--space-sm);
        /* Use --space-xs/sm */
        font-size: var(--font-size-md);
        /* Use -md */
    }

    .count {
        font-size: var(--font-size-xs);
        /* Use -xs */
    }

    .commentsSection {
        margin-left: calc(-1 * var(--space-sm));
        /* Match mobile card padding */
        margin-right: calc(-1 * var(--space-sm));
        padding-left: var(--space-sm);
        padding-right: var(--space-sm);
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
    }

    .commentLoading,
    .commentError,
    .noCommentsYet {
        font-size: var(--font-size-xs);
        padding: var(--space-md) 0;
    }
}